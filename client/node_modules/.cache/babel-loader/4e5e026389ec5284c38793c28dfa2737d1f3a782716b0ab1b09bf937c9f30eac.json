{"ast":null,"code":"import _regeneratorRuntime from\"/Users/aarushisingh/Projects/counter-offer/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/aarushisingh/Projects/counter-offer/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/aarushisingh/Projects/counter-offer/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import{useNavigate}from'react-router-dom';import axios from\"axios\";// import fs from 'fs';\nimport Card from'react-bootstrap/Card';import Button from'react-bootstrap/Button';import Form from'react-bootstrap/Form';import FloatingLabel from'react-bootstrap/FloatingLabel';import Alert from'react-bootstrap/Alert';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var userData=require(\"../db.json\");var LoginPage=function LoginPage(props){var navigate=useNavigate();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),displayAlert=_useState6[0],setDisplayAlert=_useState6[1];var onClick=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var success;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:// Log in API\n//   const data = await axios.post('http://10.150.243.218:8000/api/token', JSON.stringify({\n//     username: username,\n//     password: password\n//   }), {headers: {authorization: \"http://10.150.243.218:8000\"}}).then(res => {\n//   console.log(res)\n//   return (\n//     res.data\n//   )\n// }).then((result) => {\nsuccess=true;//hard-coded in for now\n// If response is 'username already exists': \nif(!success){setDisplayAlert(true);}// Else, sign up correctly and redirect to homepage\nelse{// Log in API request\nprops.setUN(username);// userData[\"USER\"] = username\n// fs.writeFile('db.json', JSON.stringify(userData), 'utf8');\nnavigate('/');}// })\ncase 2:case\"end\":return _context.stop();}},_callee);}));return function onClick(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{style:{margin:\"auto\",width:\"50%\",padding:\"10%\"},children:[/*#__PURE__*/_jsxs(Card,{style:{padding:\"10%\"},children:[/*#__PURE__*/_jsx(Card.Title,{children:/*#__PURE__*/_jsx(\"h2\",{children:\"Log In\"})}),/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsx(Form.Group,{children:/*#__PURE__*/_jsx(FloatingLabel,{label:\"Username\",children:/*#__PURE__*/_jsx(Form.Control,{type:\"username\",placeholder:\"Username\",value:username,onChange:function onChange(e){return setUsername(e.target.value);}})})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Form.Group,{children:/*#__PURE__*/_jsx(FloatingLabel,{label:\"Password\",children:/*#__PURE__*/_jsx(Form.Control,{type:\"password\",placeholder:\"Password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}})})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:onClick,children:\"Log in\"})]})})]}),/*#__PURE__*/_jsx(\"br\",{}),displayAlert?/*#__PURE__*/_jsxs(Alert,{dismissible:true,variant:\"danger\",onClose:function onClose(){return setDisplayAlert(false);},children:[/*#__PURE__*/_jsx(\"b\",{children:\"ERROR\"}),\": That username/password combination does not exist.\"]}):/*#__PURE__*/_jsx(_Fragment,{})]});};export default LoginPage;","map":{"version":3,"names":["useState","useNavigate","axios","Card","Button","Form","FloatingLabel","Alert","userData","require","LoginPage","props","navigate","username","setUsername","password","setPassword","displayAlert","setDisplayAlert","onClick","success","setUN","margin","width","padding","e","target","value"],"sources":["/Users/aarushisingh/Projects/counter-offer/client/src/components/LoginPage.js"],"sourcesContent":["import { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from \"axios\"\n// import fs from 'fs';\nimport Card from 'react-bootstrap/Card'\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\nimport FloatingLabel from 'react-bootstrap/FloatingLabel';\nimport Alert from 'react-bootstrap/Alert';\nvar userData = require(\"../db.json\")\n\n\n\nconst LoginPage = (props) => {\n  const navigate = useNavigate()\n  const [username, setUsername] = useState(\"\")\n  const [password, setPassword] = useState(\"\")\n  const [displayAlert, setDisplayAlert] = useState(false)\n\n  const onClick = async () => {\n    // Log in API\n  //   const data = await axios.post('http://10.150.243.218:8000/api/token', JSON.stringify({\n  //     username: username,\n  //     password: password\n  //   }), {headers: {authorization: \"http://10.150.243.218:8000\"}}).then(res => {\n  //   console.log(res)\n  //   return (\n  //     res.data\n  //   )\n  // }).then((result) => {\n    const success = true //hard-coded in for now\n\n    // If response is 'username already exists': \n    if (!success) {\n      setDisplayAlert(true)\n    }\n\n    // Else, sign up correctly and redirect to homepage\n    else {\n      // Log in API request\n      props.setUN(username)\n      // userData[\"USER\"] = username\n      // fs.writeFile('db.json', JSON.stringify(userData), 'utf8');\n      navigate('/')\n    }\n\n  // })\n}\n\n\n  return (\n    <div style={{margin:\"auto\", width:\"50%\", padding:\"10%\"}}>\n      <Card style={{padding:\"10%\"}}>\n\n        <Card.Title><h2>Log In</h2></Card.Title>\n\n        <Card.Body>\n          <Form>\n            <Form.Group>\n              <FloatingLabel label=\"Username\">\n              <Form.Control type=\"username\" placeholder=\"Username\" value={username} onChange={e => setUsername(e.target.value)}/>\n              </FloatingLabel>\n              {/* <Form.Label> <h6>Username</h6></Form.Label> */}\n            </Form.Group>\n\n            <br/>\n\n            <Form.Group>\n            <FloatingLabel label=\"Password\">\n              <Form.Control type=\"password\" placeholder=\"Password\" value={password} onChange={e => setPassword(e.target.value)}/>\n            </FloatingLabel>\n              {/* <Form.Label> <h6>Password</h6> </Form.Label> */}\n            </Form.Group>\n\n            <br/>\n\n            <Button variant=\"primary\" onClick={onClick}>\n              Log in\n            </Button>\n          </Form>\n          \n        </Card.Body>\n      </Card>\n\n      <br/>\n      {\n        displayAlert ? <Alert dismissible variant=\"danger\" onClose={() => setDisplayAlert(false)}><b>ERROR</b>: That username/password combination does not exist.</Alert> : <></>\n      }\n\n    </div>\n  )\n}\n\nexport default LoginPage\n"],"mappings":"qaAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAOC,MAAK,KAAM,OAAO,CACzB;AACA,MAAOC,KAAI,KAAM,sBAAsB,CACvC,MAAOC,OAAM,KAAM,wBAAwB,CAC3C,MAAOC,KAAI,KAAM,sBAAsB,CACvC,MAAOC,cAAa,KAAM,+BAA+B,CACzD,MAAOC,MAAK,KAAM,uBAAuB,CAAC,6IAC1C,GAAIC,SAAQ,CAAGC,OAAO,CAAC,YAAY,CAAC,CAIpC,GAAMC,UAAS,CAAG,QAAZA,UAAS,CAAIC,KAAK,CAAK,CAC3B,GAAMC,SAAQ,CAAGX,WAAW,EAAE,CAC9B,cAAgCD,QAAQ,CAAC,EAAE,CAAC,wCAArCa,QAAQ,eAAEC,WAAW,eAC5B,eAAgCd,QAAQ,CAAC,EAAE,CAAC,yCAArCe,QAAQ,eAAEC,WAAW,eAC5B,eAAwChB,QAAQ,CAAC,KAAK,CAAC,yCAAhDiB,YAAY,eAAEC,eAAe,eAEpC,GAAMC,QAAO,4FAAG,gJACd;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACQC,OAAO,CAAG,IAAI,CAAC;AAErB;AACA,GAAI,CAACA,OAAO,CAAE,CACZF,eAAe,CAAC,IAAI,CAAC,CACvB,CAEA;AAAA,IACK,CACH;AACAP,KAAK,CAACU,KAAK,CAACR,QAAQ,CAAC,CACrB;AACA;AACAD,QAAQ,CAAC,GAAG,CAAC,CACf,CAEF;AAAA,qDACD,kBA5BOO,QAAO,0CA4Bd,CAGC,mBACE,aAAK,KAAK,CAAE,CAACG,MAAM,CAAC,MAAM,CAAEC,KAAK,CAAC,KAAK,CAAEC,OAAO,CAAC,KAAK,CAAE,wBACtD,MAAC,IAAI,EAAC,KAAK,CAAE,CAACA,OAAO,CAAC,KAAK,CAAE,wBAE3B,KAAC,IAAI,CAAC,KAAK,wBAAC,oBAAI,QAAM,EAAK,EAAa,cAExC,KAAC,IAAI,CAAC,IAAI,wBACR,MAAC,IAAI,yBACH,KAAC,IAAI,CAAC,KAAK,wBACT,KAAC,aAAa,EAAC,KAAK,CAAC,UAAU,uBAC/B,KAAC,IAAI,CAAC,OAAO,EAAC,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,UAAU,CAAC,KAAK,CAAEX,QAAS,CAAC,QAAQ,CAAE,kBAAAY,CAAC,QAAIX,YAAW,CAACW,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,EAAC,EAAE,EACnG,EAEL,cAEb,aAAK,cAEL,KAAC,IAAI,CAAC,KAAK,wBACX,KAAC,aAAa,EAAC,KAAK,CAAC,UAAU,uBAC7B,KAAC,IAAI,CAAC,OAAO,EAAC,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,UAAU,CAAC,KAAK,CAAEZ,QAAS,CAAC,QAAQ,CAAE,kBAAAU,CAAC,QAAIT,YAAW,CAACS,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,EAAC,EAAE,EACrG,EAEH,cAEb,aAAK,cAEL,KAAC,MAAM,EAAC,OAAO,CAAC,SAAS,CAAC,OAAO,CAAER,OAAQ,UAAC,QAE5C,EAAS,GACJ,EAEG,GACP,cAEP,aAAK,CAEHF,YAAY,cAAG,MAAC,KAAK,EAAC,WAAW,MAAC,OAAO,CAAC,QAAQ,CAAC,OAAO,CAAE,yBAAMC,gBAAe,CAAC,KAAK,CAAC,EAAC,wBAAC,mBAAG,OAAK,EAAI,uDAAoD,GAAQ,cAAG,kBAAK,GAGxK,CAEV,CAAC,CAED,cAAeR,UAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}